{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jjinj\\\\OneDrive\\\\Documents\\\\GitHub\\\\karkao_test\\\\script-web\\\\src\\\\pages\\\\MainPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport InputBox from '../components/InputBox';\nimport ScriptDisplay from '../components/ScriptDisplay';\nimport ValidateButton from '../components/ValidateButton';\nimport SelectBox from '../components/SelectBox';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n    max-width: 800px;\n    margin: 2em auto;\n    padding: 2em;\n    background-color: rgba(0, 0, 0, 0.5);\n    border-radius: 8px;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    z-index: 10;\n    min-height: 100vh;\n`;\n_c = Container;\nconst Title = styled.h1`\n    text-align: center;\n    margin-top: 0.65em;\n    margin-bottom: 0.5em;\n    color: #fff;\n`;\n_c2 = Title;\nconst Subtitle = styled.h3`\n    text-align: center;\n    margin-bottom: 1.5em;\n    color: #FFCD00;\n    font-size: 1.2em;\n    font-weight: normal;\n`;\n_c3 = Subtitle;\nconst Header = styled.h2`\n    text-align: center;\n    color: #3c1e1e;\n    margin-bottom: 0.5em;\n    font-size: 2em;\n    font-weight: bold;\n    color: #FFCD00; /* 카카오 노란색 */\n`;\nconst GroupContainer = styled.div`\n    margin-bottom: 1.5em;\n    padding: 1em;\n    padding-top: 2em;\n    padding-bottom: 0.01em;\n    background-color: rgba(255, 255, 255, 0.1);\n    border-radius: 8px;\n`;\n_c4 = GroupContainer;\nconst ButtonContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 2em;\n`;\n_c5 = ButtonContainer;\nconst StyledButton = styled.button`\n    background-color: #28a745;\n    color: white;\n    border: none;\n    padding: 0.75em 1.5em;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 1em;\n    transition: background-color 0.1s ease-in;\n    margin: 0 1em;\n\n    &:hover {\n        background-color: #218838;\n    }\n\n    &:focus {\n        outline: none;\n        box-shadow: 0 0 8px rgba(33, 136, 56, 0.6);\n    }\n`;\n_c6 = StyledButton;\nconst MainPage = () => {\n  _s();\n  const [accessKey, setAccessKey] = useState('');\n  const [secretKey, setSecretKey] = useState('');\n  const [email, setEmail] = useState('');\n  const [projectName, setProjectName] = useState('');\n  const [clusterList, setClusterList] = useState([]);\n  const [clusterName, setClusterName] = useState('');\n  const [apiEndpoint, setApiEndpoint] = useState('');\n  const [authData, setAuthData] = useState('');\n  const [instanceList, setInstanceList] = useState('');\n  const [instanceName, setInstanceName] = useState('');\n  const [primaryEndpoint, setPrimaryEndpoint] = useState('');\n  const [standbyEndpoint, setStandbyEndpoint] = useState('');\n  const [dockerImageName, setDockerImageName] = useState('demo-spring-boot');\n  const [dockerJavaVersion, setDockerJavaVersion] = useState('17-jdk-slim');\n  const [script, setScript] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [loadingButton, setLoadingButton] = useState(null);\n  const [instanceEndpoints, setInstanceEndpoints] = useState({});\n  const [errors, setErrors] = useState({});\n  const handleApiButtonClick = async (id, apiFunction, arg) => {\n    setLoadingButton(id);\n    try {\n      await apiFunction(arg);\n    } finally {\n      setLoadingButton(null);\n    }\n  };\n  const handleInstanceNameChange = event => {\n    const selectedInstanceName = event.target.value;\n    setInstanceName(selectedInstanceName);\n    handleApiButtonClick('fetchInstanceEndpoints', fetchInstanceEndpoints, selectedInstanceName);\n  };\n  const handleClusterNameChange = event => {\n    const selectedClusterName = event.target.value;\n    setClusterName(selectedClusterName);\n    handleApiButtonClick('fetchKubeConfig', fetchKubeConfig, selectedClusterName);\n  };\n  const handleFetchProjectsAndClusters = async () => {\n    await fetchProjects();\n    await fetchClusters();\n    await fetchInstanceLists();\n  };\n  useEffect(() => {\n    fetchInstanceLists();\n  }, []);\n  const generateScript = () => {\n    const newScript = `#!/bin/bash\necho \"kakaocloud: 1.Starting environment variable setup\"\n# 환경 변수 설정: 사용자는 이 부분에 자신의 환경에 맞는 값을 입력해야 합니다.\ncommand=$(cat <<EOF\nexport ACC_KEY='${accessKey}'\nexport SEC_KEY='${secretKey}'\nexport EMAIL_ADDRESS='${email}'\nexport CLUSTER_NAME='${clusterName}'\nexport API_SERVER='${apiEndpoint}'\nexport AUTH_DATA='${authData}'\nexport PROJECT_NAME='${projectName}'\nexport INPUT_DB_EP1='${primaryEndpoint}'\nexport INPUT_DB_EP2='${standbyEndpoint}'\nexport DOCKER_IMAGE_NAME='${dockerImageName}'\nexport DOCKER_JAVA_VERSION='${dockerJavaVersion}'\nexport JAVA_VERSION='17'\nexport SPRING_BOOT_VERSION='3.1.0'\nexport DB_EP1=\\$(echo -n \"\\$INPUT_DB_EP1\" | base64 -w 0)\nexport DB_EP2=\\$(echo -n \"\\$INPUT_DB_EP2\" | base64 -w 0)\nEOF\n)\neval \"$command\"\necho \"$command\" >> /home/ubuntu/.bashrc\necho \"kakaocloud: Environment variable setup completed\"\necho \"kakaocloud: 2.Checking the validity of the script download site\"\ncurl --output /dev/null --silent --head --fail \"https://github.com/kakaocloud-edu/tutorial/raw/main/AdvancedCourse/src/script/script.sh\" || { echo \"kakaocloud: Script download site is not valid\"; exit 1; }\necho \"kakaocloud: Script download site is valid\"\nwget https://github.com/kakaocloud-edu/tutorial/raw/main/AdvancedCourse/src/script/script.sh\nchmod +x script.sh\nsudo -E ./script.sh`;\n    setScript(newScript);\n    navigator.clipboard.writeText(newScript);\n    alert('스크립트가 생성되고 클립보드에 복사되었습니다.');\n  };\n  const fetchProjects = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.post('http://61.109.237.248:8000/get-project-name', {\n        access_key_id: accessKey,\n        access_key_secret: secretKey\n      });\n      const projectName = response.data.project_name;\n      setProjectName(projectName);\n    } catch (error) {\n      console.error('API 호출 오류:', error);\n    }\n    setLoading(false);\n  };\n  const fetchClusters = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.post('http://61.109.237.248:8000/get-clusters', {\n        access_key_id: accessKey,\n        access_key_secret: secretKey\n      });\n      const clusterNames = response.data.items.map(item => item.name);\n      setClusterList(clusterNames); // 배열로 설정\n    } catch (error) {\n      console.error('API 호출 오류:', error);\n    }\n    setLoading(false);\n  };\n  const fetchInstanceLists = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.post('http://61.109.237.248:8000/get-instance-groups', {\n        access_key_id: accessKey,\n        access_key_secret: secretKey\n      });\n      const instanceSetNames = response.data; // 이미 배열 형태라고 가정\n      setInstanceList(instanceSetNames.join(', '));\n    } catch (error) {\n      console.error('API 호출 오류:', error);\n    }\n    setLoading(false);\n  };\n  const fetchInstanceEndpoints = async selectedInstanceName => {\n    setLoading(true);\n    try {\n      const response = await axios.post('http://61.109.237.248:8000/get-instance-endpoints', {\n        access_key_id: accessKey,\n        access_key_secret: secretKey,\n        instance_set_name: selectedInstanceName // instance_set_name 추가\n      });\n      console.log('전체 응답 데이터:', response.data); // 전체 응답 데이터 확인용 로그\n\n      const {\n        primary_endpoint,\n        standby_endpoint\n      } = response.data;\n      setInstanceEndpoints(prev => ({\n        [selectedInstanceName]: {\n          primary_endpoint,\n          standby_endpoint\n        }\n      }));\n      setPrimaryEndpoint(primary_endpoint);\n      setStandbyEndpoint(standby_endpoint);\n    } catch (error) {\n      console.error('API 호출 오류:', error);\n    }\n    setLoading(false);\n  };\n  const fetchKubeConfig = async selectedClusterName => {\n    setLoading(true);\n    try {\n      const response = await axios.post('http://61.109.237.248:8000/get-kubeconfig', {\n        access_key_id: accessKey,\n        access_key_secret: secretKey,\n        cluster_name: selectedClusterName // cluster_name 추가\n      });\n      const {\n        clusters\n      } = response.data;\n      const selectedCluster = clusters.find(cluster => cluster.name === selectedClusterName);\n      if (selectedCluster) {\n        setClusterName(selectedCluster.name);\n        setApiEndpoint(selectedCluster.cluster.server);\n        setAuthData(selectedCluster.cluster[\"certificate-authority-data\"]);\n      }\n    } catch (error) {\n      console.error('API 호출 오류:', error);\n    }\n    setLoading(false);\n  };\n  const handleConsoleClick = url => {\n    window.open(url, '_blank');\n  };\n  useEffect(() => {\n    fetchInstanceLists();\n  }, []);\n  const formData = {\n    accessKey,\n    secretKey,\n    email,\n    projectName,\n    clusterName,\n    apiEndpoint,\n    authData,\n    instanceList,\n    primaryEndpoint,\n    standbyEndpoint,\n    dockerImageName,\n    dockerJavaVersion\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"Bastion VM \\uC2A4\\uD06C\\uB9BD\\uD2B8 \\uC0DD\\uC131\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n      children: \"kakaocloud \\uAD50\\uC721\\uC6A9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GroupContainer, {\n      children: [/*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"1. \\uC0AC\\uC6A9\\uC790 \\uC561\\uC138\\uC2A4 \\uD0A4\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: accessKey,\n        onChange: e => setAccessKey(e.target.value),\n        error: errors.accessKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"2. \\uC0AC\\uC6A9\\uC790 \\uC561\\uC138\\uC2A4 \\uBCF4\\uC548 \\uD0A4\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: secretKey,\n        onChange: e => setSecretKey(e.target.value),\n        error: errors.secretKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"3. \\uC0AC\\uC6A9\\uC790 \\uC774\\uBA54\\uC77C\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        error: errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GroupContainer, {\n      children: /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"4. \\uD504\\uB85C\\uC81D\\uD2B8 \\uC774\\uB984\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: projectName,\n        onChange: e => setProjectName(e.target.value),\n        showApiButton: true,\n        onApiClick: () => handleApiButtonClick('fetchProjects', handleFetchProjectsAndClusters),\n        isLoading: loadingButton === 'fetchProjects',\n        disableAll: !!loadingButton,\n        error: errors.projectName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GroupContainer, {\n      children: [/*#__PURE__*/_jsxDEV(SelectBox, {\n        label: \"5. \\uD074\\uB7EC\\uC2A4\\uD130 \\uB9AC\\uC2A4\\uD2B8\",\n        value: clusterName,\n        options: clusterList,\n        onChange: handleClusterNameChange,\n        disabled: loadingButton === 'fetchClusters'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"6. \\uD074\\uB7EC\\uC2A4\\uD130 \\uC774\\uB984\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: clusterName,\n        onChange: e => setClusterName(e.target.value),\n        height: \"100px\",\n        onApiClick: () => handleApiButtonClick('fetchClusterName', fetchKubeConfig, clusterName),\n        isLoading: loadingButton === 'fetchClusterName',\n        disableAll: !!loadingButton,\n        error: errors.clusterName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"7. \\uD074\\uB7EC\\uC2A4\\uD130\\uC758 API \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: apiEndpoint,\n        onChange: e => setApiEndpoint(e.target.value),\n        height: \"100px\",\n        onApiClick: () => handleApiButtonClick('fetchApiEndpoint', fetchKubeConfig, clusterName),\n        isLoading: loadingButton === 'fetchApiEndpoint',\n        disableAll: !!loadingButton,\n        error: errors.apiEndpoint\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"8. \\uD074\\uB7EC\\uC2A4\\uD130\\uC758 certificate-authority-data\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: authData,\n        onChange: e => setAuthData(e.target.value),\n        height: \"100px\",\n        onApiClick: () => handleApiButtonClick('fetchAuthData', fetchKubeConfig, clusterName),\n        isLoading: loadingButton === 'fetchAuthData',\n        disableAll: !!loadingButton,\n        error: errors.authData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GroupContainer, {\n      children: [/*#__PURE__*/_jsxDEV(SelectBox, {\n        label: \"9. \\uC778\\uC2A4\\uD134\\uC2A4 \\uADF8\\uB8F9 \\uB9AC\\uC2A4\\uD2B8\",\n        value: instanceName,\n        options: instanceList.split(', '),\n        onChange: handleInstanceNameChange,\n        disabled: loadingButton === 'fetchInstanceLists'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"10. Primary\\uC758 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: primaryEndpoint,\n        onChange: e => setPrimaryEndpoint(e.target.value),\n        height: \"100px\",\n        onApiClick: () => handleApiButtonClick('fetchInstancePrimaryEndpoints', fetchInstanceEndpoints, instanceName),\n        isLoading: loadingButton === 'fetchInstancePrimaryEndpoints',\n        disableAll: !!loadingButton,\n        error: errors.primaryEndpoint\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"11. Standby\\uC758 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: standbyEndpoint,\n        onChange: e => setStandbyEndpoint(e.target.value),\n        height: \"100px\",\n        onApiClick: () => handleApiButtonClick('fetchInstanceStandbyEndpoints', fetchInstanceEndpoints, instanceName),\n        isLoading: loadingButton === 'fetchInstanceStandbyEndpoints',\n        disableAll: !!loadingButton,\n        error: errors.standbyEndpoint\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GroupContainer, {\n      children: [/*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"12. Docker Image \\uC774\\uB984\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: dockerImageName,\n        onChange: e => setDockerImageName(e.target.value),\n        error: errors.dockerImageName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n        label: \"13. Docker Image Base Java Version\",\n        placeholder: \"\\uC9C1\\uC811 \\uC785\\uB825\",\n        value: dockerJavaVersion,\n        onChange: e => setDockerJavaVersion(e.target.value),\n        error: errors.dockerJavaVersion\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n      children: [/*#__PURE__*/_jsxDEV(StyledButton, {\n        onClick: generateScript,\n        children: \"\\uC2A4\\uD06C\\uB9BD\\uD2B8 \\uC0DD\\uC131 \\uBC0F \\uD074\\uB9BD\\uBCF4\\uB4DC\\uB85C \\uBCF5\\uC0AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ValidateButton, {\n        formData: formData,\n        setErrors: setErrors,\n        clusterList: clusterList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ScriptDisplay, {\n      script: script\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 9\n  }, this);\n};\n_s(MainPage, \"sNKP2Bjwm9bYagBqL67p1/CElk4=\");\n_c7 = MainPage;\nexport default MainPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"Subtitle\");\n$RefreshReg$(_c4, \"GroupContainer\");\n$RefreshReg$(_c5, \"ButtonContainer\");\n$RefreshReg$(_c6, \"StyledButton\");\n$RefreshReg$(_c7, \"MainPage\");","map":{"version":3,"names":["React","useEffect","useState","InputBox","ScriptDisplay","ValidateButton","SelectBox","styled","axios","jsxDEV","_jsxDEV","Container","div","_c","Title","h1","_c2","Subtitle","h3","_c3","Header","h2","GroupContainer","_c4","ButtonContainer","_c5","StyledButton","button","_c6","MainPage","_s","accessKey","setAccessKey","secretKey","setSecretKey","email","setEmail","projectName","setProjectName","clusterList","setClusterList","clusterName","setClusterName","apiEndpoint","setApiEndpoint","authData","setAuthData","instanceList","setInstanceList","instanceName","setInstanceName","primaryEndpoint","setPrimaryEndpoint","standbyEndpoint","setStandbyEndpoint","dockerImageName","setDockerImageName","dockerJavaVersion","setDockerJavaVersion","script","setScript","loading","setLoading","loadingButton","setLoadingButton","instanceEndpoints","setInstanceEndpoints","errors","setErrors","handleApiButtonClick","id","apiFunction","arg","handleInstanceNameChange","event","selectedInstanceName","target","value","fetchInstanceEndpoints","handleClusterNameChange","selectedClusterName","fetchKubeConfig","handleFetchProjectsAndClusters","fetchProjects","fetchClusters","fetchInstanceLists","generateScript","newScript","navigator","clipboard","writeText","alert","response","post","access_key_id","access_key_secret","data","project_name","error","console","clusterNames","items","map","item","name","instanceSetNames","join","instance_set_name","log","primary_endpoint","standby_endpoint","prev","cluster_name","clusters","selectedCluster","find","cluster","server","handleConsoleClick","url","window","open","formData","children","fileName","_jsxFileName","lineNumber","columnNumber","label","placeholder","onChange","e","showApiButton","onApiClick","isLoading","disableAll","options","disabled","height","split","onClick","_c7","$RefreshReg$"],"sources":["C:/Users/jjinj/OneDrive/Documents/GitHub/karkao_test/script-web/src/pages/MainPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport InputBox from '../components/InputBox';\r\nimport ScriptDisplay from '../components/ScriptDisplay';\r\nimport ValidateButton from '../components/ValidateButton';\r\nimport SelectBox from '../components/SelectBox';\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\n\r\nconst Container = styled.div`\r\n    max-width: 800px;\r\n    margin: 2em auto;\r\n    padding: 2em;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    border-radius: 8px;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n    z-index: 10;\r\n    min-height: 100vh;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    text-align: center;\r\n    margin-top: 0.65em;\r\n    margin-bottom: 0.5em;\r\n    color: #fff;\r\n`;\r\n\r\nconst Subtitle = styled.h3`\r\n    text-align: center;\r\n    margin-bottom: 1.5em;\r\n    color: #FFCD00;\r\n    font-size: 1.2em;\r\n    font-weight: normal;\r\n`;\r\n\r\nconst Header = styled.h2`\r\n    text-align: center;\r\n    color: #3c1e1e;\r\n    margin-bottom: 0.5em;\r\n    font-size: 2em;\r\n    font-weight: bold;\r\n    color: #FFCD00; /* 카카오 노란색 */\r\n`;\r\n\r\nconst GroupContainer = styled.div`\r\n    margin-bottom: 1.5em;\r\n    padding: 1em;\r\n    padding-top: 2em;\r\n    padding-bottom: 0.01em;\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n    border-radius: 8px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-top: 2em;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n    background-color: #28a745;\r\n    color: white;\r\n    border: none;\r\n    padding: 0.75em 1.5em;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 1em;\r\n    transition: background-color 0.1s ease-in;\r\n    margin: 0 1em;\r\n\r\n    &:hover {\r\n        background-color: #218838;\r\n    }\r\n\r\n    &:focus {\r\n        outline: none;\r\n        box-shadow: 0 0 8px rgba(33, 136, 56, 0.6);\r\n    }\r\n`;\r\n\r\ninterface KubeConfig {\r\n    clusters: Array<{\r\n        cluster: {\r\n            \"certificate-authority-data\": string;\r\n            server: string;\r\n        };\r\n        name: string;\r\n    }>;\r\n}\r\n\r\nconst MainPage: React.FC = () => {\r\n    const [accessKey, setAccessKey] = useState('');\r\n    const [secretKey, setSecretKey] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [projectName, setProjectName] = useState('');\r\n    const [clusterList, setClusterList] = useState<string[]>([]);\r\n    const [clusterName, setClusterName] = useState('');\r\n    const [apiEndpoint, setApiEndpoint] = useState('');\r\n    const [authData, setAuthData] = useState('');\r\n    const [instanceList, setInstanceList] = useState('');\r\n    const [instanceName, setInstanceName] = useState('');\r\n    const [primaryEndpoint, setPrimaryEndpoint] = useState('');\r\n    const [standbyEndpoint, setStandbyEndpoint] = useState('');\r\n    const [dockerImageName, setDockerImageName] = useState('demo-spring-boot');\r\n    const [dockerJavaVersion, setDockerJavaVersion] = useState('17-jdk-slim');\r\n    const [script, setScript] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [loadingButton, setLoadingButton] = useState<string | null>(null);\r\n    const [instanceEndpoints, setInstanceEndpoints] = useState<{ [key: string]: { primary_endpoint: string, standby_endpoint: string } }>({});\r\n    const [errors, setErrors] = useState<{ [key: string]: string }>({});\r\n\r\n    const handleApiButtonClick = async (id: string, apiFunction: (arg?: string) => Promise<void>, arg?: string) => {\r\n        setLoadingButton(id);\r\n        try {\r\n            await apiFunction(arg);\r\n        } finally {\r\n            setLoadingButton(null);\r\n        }\r\n    };\r\n\r\n    const handleInstanceNameChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        const selectedInstanceName = event.target.value;\r\n        setInstanceName(selectedInstanceName);\r\n        handleApiButtonClick('fetchInstanceEndpoints', fetchInstanceEndpoints, selectedInstanceName);\r\n    };\r\n\r\n    const handleClusterNameChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        const selectedClusterName = event.target.value;\r\n        setClusterName(selectedClusterName);\r\n        handleApiButtonClick('fetchKubeConfig', fetchKubeConfig, selectedClusterName);\r\n    };\r\n\r\n    const handleFetchProjectsAndClusters = async () => {\r\n        await fetchProjects();\r\n        await fetchClusters();\r\n        await fetchInstanceLists();\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchInstanceLists();\r\n    }, []);\r\n\r\n    const generateScript = () => {\r\n        const newScript = `#!/bin/bash\r\necho \"kakaocloud: 1.Starting environment variable setup\"\r\n# 환경 변수 설정: 사용자는 이 부분에 자신의 환경에 맞는 값을 입력해야 합니다.\r\ncommand=$(cat <<EOF\r\nexport ACC_KEY='${accessKey}'\r\nexport SEC_KEY='${secretKey}'\r\nexport EMAIL_ADDRESS='${email}'\r\nexport CLUSTER_NAME='${clusterName}'\r\nexport API_SERVER='${apiEndpoint}'\r\nexport AUTH_DATA='${authData}'\r\nexport PROJECT_NAME='${projectName}'\r\nexport INPUT_DB_EP1='${primaryEndpoint}'\r\nexport INPUT_DB_EP2='${standbyEndpoint}'\r\nexport DOCKER_IMAGE_NAME='${dockerImageName}'\r\nexport DOCKER_JAVA_VERSION='${dockerJavaVersion}'\r\nexport JAVA_VERSION='17'\r\nexport SPRING_BOOT_VERSION='3.1.0'\r\nexport DB_EP1=\\$(echo -n \"\\$INPUT_DB_EP1\" | base64 -w 0)\r\nexport DB_EP2=\\$(echo -n \"\\$INPUT_DB_EP2\" | base64 -w 0)\r\nEOF\r\n)\r\neval \"$command\"\r\necho \"$command\" >> /home/ubuntu/.bashrc\r\necho \"kakaocloud: Environment variable setup completed\"\r\necho \"kakaocloud: 2.Checking the validity of the script download site\"\r\ncurl --output /dev/null --silent --head --fail \"https://github.com/kakaocloud-edu/tutorial/raw/main/AdvancedCourse/src/script/script.sh\" || { echo \"kakaocloud: Script download site is not valid\"; exit 1; }\r\necho \"kakaocloud: Script download site is valid\"\r\nwget https://github.com/kakaocloud-edu/tutorial/raw/main/AdvancedCourse/src/script/script.sh\r\nchmod +x script.sh\r\nsudo -E ./script.sh`;\r\n        setScript(newScript);\r\n        navigator.clipboard.writeText(newScript);\r\n        alert('스크립트가 생성되고 클립보드에 복사되었습니다.');\r\n    };\r\n\r\n    const fetchProjects = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await axios.post('http://61.109.237.248:8000/get-project-name', {\r\n                access_key_id: accessKey,\r\n                access_key_secret: secretKey,\r\n            });\r\n            const projectName = response.data.project_name;\r\n            setProjectName(projectName);\r\n        } catch (error) {\r\n            console.error('API 호출 오류:', error);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const fetchClusters = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await axios.post('http://61.109.237.248:8000/get-clusters', {\r\n                access_key_id: accessKey,\r\n                access_key_secret: secretKey,\r\n            });\r\n\r\n            const clusterNames = response.data.items.map((item: any) => item.name);\r\n\r\n            setClusterList(clusterNames); // 배열로 설정\r\n\r\n        } catch (error) {\r\n            console.error('API 호출 오류:', error);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const fetchInstanceLists = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await axios.post('http://61.109.237.248:8000/get-instance-groups', {\r\n                access_key_id: accessKey,\r\n                access_key_secret: secretKey,\r\n            });\r\n            const instanceSetNames = response.data;  // 이미 배열 형태라고 가정\r\n            setInstanceList(instanceSetNames.join(', '));\r\n\r\n        } catch (error) {\r\n            console.error('API 호출 오류:', error);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const fetchInstanceEndpoints = async (selectedInstanceName?: string) => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await axios.post('http://61.109.237.248:8000/get-instance-endpoints', {\r\n                access_key_id: accessKey,\r\n                access_key_secret: secretKey,\r\n                instance_set_name: selectedInstanceName  // instance_set_name 추가\r\n            });\r\n            console.log('전체 응답 데이터:', response.data); // 전체 응답 데이터 확인용 로그\r\n\r\n            const { primary_endpoint, standby_endpoint } = response.data;\r\n            setInstanceEndpoints(prev => ({\r\n                [selectedInstanceName as string]: { primary_endpoint, standby_endpoint } as { primary_endpoint: string, standby_endpoint: string }\r\n            }));\r\n            setPrimaryEndpoint(primary_endpoint);\r\n            setStandbyEndpoint(standby_endpoint);\r\n        } catch (error) {\r\n            console.error('API 호출 오류:', error);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const fetchKubeConfig = async (selectedClusterName?: string) => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await axios.post<KubeConfig>('http://61.109.237.248:8000/get-kubeconfig', {\r\n                access_key_id: accessKey,\r\n                access_key_secret: secretKey,\r\n                cluster_name: selectedClusterName  // cluster_name 추가\r\n            });\r\n            const { clusters } = response.data;\r\n            const selectedCluster = clusters.find(cluster => cluster.name === selectedClusterName);\r\n            if (selectedCluster) {\r\n                setClusterName(selectedCluster.name);\r\n                setApiEndpoint(selectedCluster.cluster.server);\r\n                setAuthData(selectedCluster.cluster[\"certificate-authority-data\"]);\r\n            }\r\n        } catch (error) {\r\n            console.error('API 호출 오류:', error);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleConsoleClick = (url: string) => {\r\n        window.open(url, '_blank');\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchInstanceLists();\r\n    }, []);\r\n\r\n    const formData = {\r\n        accessKey,\r\n        secretKey,\r\n        email,\r\n        projectName,\r\n        clusterName,\r\n        apiEndpoint,\r\n        authData,\r\n        instanceList,\r\n        primaryEndpoint,\r\n        standbyEndpoint,\r\n        dockerImageName,\r\n        dockerJavaVersion,\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Title>Bastion VM 스크립트 생성</Title>\r\n            <Subtitle>kakaocloud 교육용</Subtitle>\r\n            <GroupContainer>\r\n                <InputBox\r\n                    label=\"1. 사용자 액세스 키\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={accessKey}\r\n                    onChange={(e) => setAccessKey(e.target.value)}\r\n                    error={errors.accessKey}\r\n                />\r\n                <InputBox\r\n                    label=\"2. 사용자 액세스 보안 키\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={secretKey}\r\n                    onChange={(e) => setSecretKey(e.target.value)}\r\n                    error={errors.secretKey}\r\n                />\r\n                <InputBox\r\n                    label=\"3. 사용자 이메일\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    error={errors.email}\r\n                />\r\n            </GroupContainer>\r\n            <GroupContainer>\r\n                <InputBox\r\n                    label=\"4. 프로젝트 이름\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={projectName}\r\n                    onChange={(e) => setProjectName(e.target.value)}\r\n                    showApiButton\r\n                    onApiClick={() => handleApiButtonClick('fetchProjects', handleFetchProjectsAndClusters)}\r\n                    isLoading={loadingButton === 'fetchProjects'}\r\n                    disableAll={!!loadingButton}\r\n                    error={errors.projectName}\r\n                />\r\n            </GroupContainer>\r\n            <GroupContainer>\r\n                <SelectBox\r\n                    label=\"5. 클러스터 리스트\"\r\n                    value={clusterName}\r\n                    options={clusterList}\r\n                    onChange={handleClusterNameChange}\r\n                    disabled={loadingButton === 'fetchClusters'}\r\n                />\r\n                <InputBox\r\n                    label=\"6. 클러스터 이름\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={clusterName}\r\n                    onChange={(e) => setClusterName(e.target.value)}\r\n                    height=\"100px\"\r\n                    onApiClick={() => handleApiButtonClick('fetchClusterName', fetchKubeConfig, clusterName)}\r\n                    isLoading={loadingButton === 'fetchClusterName'}\r\n                    disableAll={!!loadingButton}\r\n                    error={errors.clusterName}\r\n                />\r\n                <InputBox\r\n                    label=\"7. 클러스터의 API 엔드포인트\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={apiEndpoint}\r\n                    onChange={(e) => setApiEndpoint(e.target.value)}\r\n                    height=\"100px\"\r\n                    onApiClick={() => handleApiButtonClick('fetchApiEndpoint', fetchKubeConfig, clusterName)}\r\n                    isLoading={loadingButton === 'fetchApiEndpoint'}\r\n                    disableAll={!!loadingButton}\r\n                    error={errors.apiEndpoint}\r\n                />\r\n                <InputBox\r\n                    label=\"8. 클러스터의 certificate-authority-data\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={authData}\r\n                    onChange={(e) => setAuthData(e.target.value)}\r\n                    height=\"100px\"\r\n                    onApiClick={() => handleApiButtonClick('fetchAuthData', fetchKubeConfig, clusterName)}\r\n                    isLoading={loadingButton === 'fetchAuthData'}\r\n                    disableAll={!!loadingButton}\r\n                    error={errors.authData}\r\n                />\r\n            </GroupContainer>\r\n            <GroupContainer>\r\n                <SelectBox\r\n                    label=\"9. 인스턴스 그룹 리스트\"\r\n                    value={instanceName}\r\n                    options={instanceList.split(', ')}\r\n                    onChange={handleInstanceNameChange}\r\n                    disabled={loadingButton === 'fetchInstanceLists'}\r\n                />\r\n                <InputBox\r\n                    label=\"10. Primary의 엔드포인트\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={primaryEndpoint}\r\n                    onChange={(e) => setPrimaryEndpoint(e.target.value)}\r\n                    height=\"100px\"\r\n                    onApiClick={() => handleApiButtonClick('fetchInstancePrimaryEndpoints', fetchInstanceEndpoints, instanceName)}\r\n                    isLoading={loadingButton === 'fetchInstancePrimaryEndpoints'}\r\n                    disableAll={!!loadingButton}\r\n                    error={errors.primaryEndpoint}\r\n                />\r\n                <InputBox\r\n                    label=\"11. Standby의 엔드포인트\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={standbyEndpoint}\r\n                    onChange={(e) => setStandbyEndpoint(e.target.value)}\r\n                    height=\"100px\"\r\n                    onApiClick={() => handleApiButtonClick('fetchInstanceStandbyEndpoints', fetchInstanceEndpoints, instanceName)}\r\n                    isLoading={loadingButton === 'fetchInstanceStandbyEndpoints'}\r\n                    disableAll={!!loadingButton}\r\n                    error={errors.standbyEndpoint}\r\n                />\r\n            </GroupContainer>\r\n            <GroupContainer>\r\n                <InputBox\r\n                    label=\"12. Docker Image 이름\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={dockerImageName}\r\n                    onChange={(e) => setDockerImageName(e.target.value)}\r\n                    error={errors.dockerImageName}\r\n                />\r\n                <InputBox\r\n                    label=\"13. Docker Image Base Java Version\"\r\n                    placeholder=\"직접 입력\"\r\n                    value={dockerJavaVersion}\r\n                    onChange={(e) => setDockerJavaVersion(e.target.value)}\r\n                    error={errors.dockerJavaVersion}\r\n                />\r\n            </GroupContainer>\r\n            <ButtonContainer>\r\n                <StyledButton onClick={generateScript}>스크립트 생성 및 클립보드로 복사</StyledButton>\r\n                <ValidateButton\r\n                    formData={formData}\r\n                    setErrors={setErrors}\r\n                    clusterList={clusterList}\r\n                />\r\n            </ButtonContainer>\r\n            <ScriptDisplay script={script} />\r\n            <ButtonContainer>\r\n            </ButtonContainer>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default MainPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}